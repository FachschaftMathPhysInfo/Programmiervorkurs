\lesson{Tic Tac Toe}

Nachdem wir jetzt lange dröge und unspannende Lektionen und Beispiele hatten, wollen wir uns jetzt einer
ein wenig spannenderen Aufgabe widmen -- wir wollen ein
einfaches Spiel programmieren. Wir haben dazu Tic Tac Toe ausgewählt, da es
relativ überschaubare Spiellogik besitzt. Ein- und Ausgabe, werden wir über die
Konsole machen.

In \texttt{vorkurs/lektion14} findet ihr eine Datei \texttt{tictactoe.cpp}. 
\inputcpp{tictactoe.cpp}

Das Spielfeld stellen wir intern als Array mit 9 Integern dar. Der Wert des Integers beschreibt wem das Feld gehört. 
Wenn das Feld Spieler 1 gehört, steht dort eine 1, gehört es Spieler 2 steht dort eine 2 und gehört es noch niemandem, 
dann steht da eine 0.

Um das Spiel zu implementieren benutzen wir erstmal 3 Hilfsfunktionen die wichtige Teile der Spiellogik für uns
implementieren.

\begin{description}
	\item[frage\_feld\_nummer]
	      Nimmt einen Vektor mit 9 \texttt{int}s entgegen und gibt einen \texttt{int} zurück.

	      Gibt auf der Konsole eine Frage nach der Feldnummer aus (durchnummeriert von 0 bis 8), liest eine Feldnummer von der Nutzerin ein und gibt diese zurück.
	      Die Funktion stellt sicher, dass die Feldnummer zwischen 0 und 8 liegt und dass das Feld noch nicht besetzt ist (sonst wird noch einmal nachgefragt).
	\item[gebe\_feld\_aus]
	      Nimmt einen Vektor mit 9 \texttt{int}s entgegen und hat als Rückgabetyp \texttt{void} (was für „keine Rückgabe“ steht).

	      Gibt das gegebene Feld auf der Konsole aus. Dabei werden die 9 Felder von oben links nach unten rechts von 0 beginnend durchnummeriert.
	      Der 9-elementige Vektor stellt also das Feld dar.
	      Eine 0 in einem Vektorelement bedeutet, dass das Feld leer ist, eine 1 bedeutet, dass sich dort ein \textbf{X} befindet und eine 2 bedeutet, dass sich ein \textbf{O} dort befindet.
	      Andere Werte werden mit einem \textbf{?} dargestellt.
	\item[gewinnerin]
	      Nimmt einen Vektor mit 9 \texttt{int}s entgegen und hat als Rückgabetyp \texttt{int}.

	      Prüft, ob in diesem Zustand des Feldes bereits eine der Spielerinnen gewonnen hat.
	      Die Funktion gibt 0 zurück, wenn noch niemand gewonnen hat, 1, wenn die Spielerin \textbf{X} gewonnen hat und 2, wenn die Spielerin \textbf{O} gewonnen hat.
	      Sollte das Spiel unentschieden ausgegangen sein, wird eine 3 zurück gegeben.
\end{description}



\begin{praxis}
	\begin{enumerate}
    \item Implementiert \texttt{frage\_feld\_nummer}. Ihr solltet darauf
          achten, dass ihr in dieser Funktion auch testen müsst, ob ein gültiges
          Feld eingegeben wurde und ob das angegebene Feld leer ist.

    \item Implementiert \texttt{gebe\_feld\_aus}. Ihr könnt euch selbst
          aussuchen, wie ihr die Ausgabe gestalten wollt.
          Wikipedia\footnote{\url{http://en.wikipedia.org/wiki/Box-drawing_character}}
          kann euch z.B. helfen, ein schöneres Feld auszugeben. Fangt am Besten
          mit einer einfachen Ausgabe an und macht sie dann immer „fancier“.

    \item Implementiert \texttt{gewinnerin}. Denkt daran, dass ihr alle
          Möglichkeiten testet, die mit einem Gewinnen enden - also 3
          Möglichkeiten, eine Reihe zu bilden, 3 Möglichkeiten, eine Spalte zu
          bilden und 2 Möglichkeiten für Diagonalen. Überlegt euch zunächst, wie
          ihr zwischen Feldnummer (0-8) und Reihen- bzw. Spaltennummer hin- und
          herrechnen könnt. Beachtet auch, dass es ein Unentschieden gibt, wenn
          alle Felder belegt sind, aber keine von beiden Spielerinnen gewonnen
          hat.
    \item
		      Das Grundgerüst des Spiels ist die \emph{input-update-display}-loop.
		      Dies ist eine Endlosschleife, in der zunächst der \emph{input} der Spielerin abgefragt wird.
		      Anschließend wird der interne Spielzustand aktualisiert (\emph{update}).
		      Zuletzt wird der neue Spielzustand angezeigt (\emph{display}).
		      Der anfängliche Spielzustand wird vor dieser loop hergestellt (\emph{setup}).

		      \texttt{tictactoe.cpp} zeigt dieses Grundgerüst.
		      Ergänzt den input- und den display-Teil mithilfe der gegebenen Funktionen.
		      Ergänzt auch den setup-Teil; ihr braucht für den Spielzustand einerseits den Vektor, welcher das Spielfeld fassen soll, andererseits eine Variable für die Spielerin, die gerade am Zug ist und eine Variable, die das im aktuellen Zug eingegebene Feld speichert.
		      Vergesst auch nicht, dass ihr das Feld zu Beginn 9 0en enhalten muss.
		\item
		      Nun müssen wir noch den Update-Teil ergänzen.
		      Hier solltet ihr in das von der aktuellen Spielerin gewählte Feld mit deren Nummer füllen, testen, ob jemand gewonnen hat und wenn ja, die Siegerin ausgeben und euer Programm beenden (denkt daran, dass das Spiel auch unentschieden ausgehen kann).
		      Sonst sollte die aktuelle Spielerin gewechselt werden.
	\end{enumerate}
\end{praxis}

\begin{spiel}
	\begin{enumerate}
		\item
		      Okay, das ist nun wirklich nicht schwierig zu erraten oder?
		      Wenn ihr dem obigen Rezept gefolgt seid, habt ihr jetzt ein funktionierendes Tic-Tac-Toe Spiel.
		      Und ihr habt eine Sitznachbarin.
		      Zählt eins und eins zusammen.
	\end{enumerate}
\end{spiel}
